{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","item","id","payload","tempCart","map","tempAmount","amount","newAmount","reduce","cartTotal","cartItem","total","price","parseFloat","toFixed","loading","data","Error","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","url","a","fetch","response","json","useEffect","Provider","value","clearCart","console","log","remove","increase","decrease","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b7b5ef5d.chunk.js","sourcesContent":["const reducer = (state, action) => {\n    switch (action.type) {\n        case \"CLEAR_CART\": {\n            return { ...state, cart: [] };\n        }\n        case \"REMOVE\": {\n            let cart = state.cart;\n            cart = cart.filter((item) => item.id !== action.payload.id);\n            return { ...state, cart };\n        }\n        case \"INCREASE\": {\n            let tempCart = state.cart.map((item) => {\n                if (action.payload.id === item.id) {\n                    let tempAmount = item.amount + 1;\n                    return { ...item, amount: tempAmount };\n                }\n                return item;\n            });\n            return {\n                ...state,\n                cart: tempCart,\n            };\n        }\n        case \"DECREASE\": {\n            let tempCart = state.cart.map((item) => {\n                if (item.id === action.payload.id) {\n                    if (item.amount > 1) {\n                        let newAmount = item.amount - 1;\n                        return { ...item, amount: newAmount };\n                    }\n                }\n                return item;\n            });\n            return { ...state, cart: tempCart };\n        }\n        case \"GET_TOTALS\": {\n            let cart = state.cart;\n            let { total, amount } = cart.reduce(\n                (cartTotal, cartItem) => {\n                    cartTotal.amount += cartItem.amount;\n                    cartTotal.total += cartItem.amount * cartItem.price;\n                    return cartTotal;\n                },\n                {\n                    total: 0,\n                    amount: 0,\n                }\n            );\n            total = parseFloat(total.toFixed(2));\n            return { ...state, total, amount };\n        }\n        case \"LOADING\":\n            return { ...state, loading: true };\n        case \"DISPLAY\":\n            return { ...state, cart: action.payload.data, loading: false };\n        default:\n            throw new Error(\"no matching action type\");\n    }\n};\nexport default reducer;\n","import React, { useContext, useReducer, useEffect } from \"react\";\nimport cartItems from \"./data\";\nimport reducer from \"./reducer\";\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\nconst AppContext = React.createContext();\n\nconst initialState = {\n    loading: true,\n    cart: cartItems,\n    total: 0,\n    amount: 0,\n};\n\nconst AppProvider = ({ children }) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    const clearCart = () => {\n        console.log(\"clear cart clicked\");\n        dispatch({ type: \"CLEAR_CART\" });\n    };\n    const remove = (id) => {\n        dispatch({ type: \"REMOVE\", payload: { id } });\n    };\n    const increase = (id) => {\n        dispatch({ type: \"INCREASE\", payload: { id } });\n    };\n    const decrease = (id) => {\n        dispatch({ type: \"DECREASE\", payload: { id } });\n    };\n    const fetchData = async (url) => {\n        dispatch({ type: \"LOADING\" });\n        const response = await fetch(url);\n        const data = await response.json();\n        dispatch({ type: \"DISPLAY\", payload: { data } });\n    };\n    useEffect(() => {\n        fetchData(url);\n    }, []);\n    useEffect(() => {\n        dispatch({ type: \"GET_TOTALS\" });\n    }, [state.cart]);\n    return (\n        <AppContext.Provider\n            value={{\n                ...state,\n                clearCart,\n                remove,\n                increase,\n                decrease,\n            }}\n        >\n            {children}\n        </AppContext.Provider>\n    );\n};\n// make sure use\nexport const useGlobalContext = () => {\n    return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst Navbar = () => {\n    const { amount } = useGlobalContext();\n    return (\n        <nav>\n            <div className=\"nav-center\">\n                <h3>Shopping Cart</h3>\n                <div className=\"nav-container\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n                    </svg>\n                    <div className=\"amount-container\">\n                        <p className=\"total-amount\">{amount}</p>\n                    </div>\n                </div>\n            </div>\n        </nav>\n    );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst CartItem = ({ id, img, title, price, amount }) => {\n    const { remove, increase, decrease } = useGlobalContext();\n    return (\n        <article className=\"cart-item\">\n            <img src={img} alt={title} />\n            <div>\n                <h4>{title}</h4>\n                <h4 className=\"item-price\">${price}</h4>\n                {/* remove button */}\n                <button\n                    className=\"remove-btn\"\n                    onClick={() => {\n                        remove(id);\n                    }}\n                >\n                    remove\n                </button>\n            </div>\n            <div>\n                {/* increase amount */}\n                <button className=\"amount-btn\" onClick={() => increase(id)}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n                    </svg>\n                </button>\n                {/* amount */}\n                <p className=\"amount\">{amount}</p>\n                {/* decrease amount */}\n                <button className=\"amount-btn\" onClick={() => decrease(id)}>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n                        <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n                    </svg>\n                </button>\n            </div>\n        </article>\n    );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nimport { useGlobalContext } from \"./context\";\n\nconst CartContainer = () => {\n    const { cart, total, clearCart } = useGlobalContext();\n    if (cart.length === 0) {\n        return (\n            <section className=\"cart\">\n                {/* cart header */}\n                <header>\n                    <h2>your bag</h2>\n                    <h4 className=\"empty-cart\">is currently empty</h4>\n                </header>\n            </section>\n        );\n    }\n    return (\n        <section className=\"cart\">\n            {/* cart header */}\n            <header>\n                <h2>your bag</h2>\n            </header>\n            {/* cart items */}\n            <div>\n                {cart.map((item) => {\n                    return <CartItem key={item.id} {...item} />;\n                })}\n            </div>\n            {/* cart footer */}\n            <footer>\n                <hr />\n                <div className=\"cart-total\">\n                    <h4>\n                        total <span>${total}</span>\n                    </h4>\n                </div>\n                <button className=\"btn clear-btn\" onClick={clearCart}>\n                    clear cart\n                </button>\n            </footer>\n        </section>\n    );\n};\n\nexport default CartContainer;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\n// components\nimport Navbar from \"./Navbar\";\nimport CartContainer from \"./CartContainer\";\n// items\n\nfunction App() {\n    const { loading } = useGlobalContext();\n    if (loading) {\n      return (\n        <div className='loading'>\n          <h1>Loading...</h1>\n        </div>\n      )\n    }\n    return (\n        <main>\n            <Navbar />\n            <CartContainer />\n        </main>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}